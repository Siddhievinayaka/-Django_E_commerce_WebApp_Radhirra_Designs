<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>
      {% block title %}
        Dashboard
      {% endblock %}
    </title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />

    <style>
      :root {
        --primary: #4f46e5;
        --bg-page: #f1f5f9;
        --bg-card: #ffffff;
        --sidebar-bg: #ffffff;
        --text-dark: #0f172a;
        --text-muted: #64748b;
        --border-light: #e5e7eb;
        --shadow-soft: 0 10px 30px rgba(15, 23, 42, 0.08);
      }
      
      body {
        font-family: 'Inter', system-ui, sans-serif;
        background-color: var(--bg-page);
        color: var(--text-dark);
      }
      
      /* Sidebar */
      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 260px;
        height: 100vh;
        background-color: var(--sidebar-bg);
        border-right: 1px solid var(--border-light);
        padding: 20px;
        z-index: 1000;
      }
      
      .sidebar h5 {
        font-weight: 700;
        margin-bottom: 24px;
      }
      
      .sidebar .nav-link {
        color: var(--text-muted);
        padding: 10px 14px;
        border-radius: 10px;
        margin-bottom: 6px;
        transition: all 0.25s ease;
      }
      
      .sidebar .nav-link:hover {
        background-color: #eef2ff;
        color: var(--primary);
      }
      
      .sidebar .nav-link.active {
        background-color: #eef2ff;
        color: var(--primary);
        font-weight: 600;
      }
      
      /* Main */
      .main-content {
        margin-left: 260px;
        min-height: 100vh;
      }
      
      /* Navbar */
      .navbar {
        background-color: #ffffff;
        border-bottom: 1px solid var(--border-light);
        min-height: 64px;
      }
      
      /* Cards */
      .matx-card {
        background-color: var(--bg-card);
        border-radius: 16px;
        padding: 24px;
        box-shadow: var(--shadow-soft);
        transition: transform 0.25s ease;
      }
      
      .matx-card:hover {
        transform: translateY(-4px);
      }
      
      /* Mobile */
      @media (max-width: 991px) {
        .sidebar {
          left: -260px;
          transition: left 0.3s ease;
        }
      
        .sidebar.show {
          left: 0;
        }
      
        .main-content {
          margin-left: 0;
        }
      }
    </style>
  </head>

  <body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <h5>Admin</h5>

      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}" href="{% url 'dashboard:home' %}"><i class="bi bi-grid me-2"></i> Dashboard</a>
        </li>

        <li class="nav-item">
          <a class="nav-link {% if request.resolver_match.url_name == 'product_list' %}active{% endif %}" href="{% url 'dashboard:product_list' %}"><i class="bi bi-box me-2"></i> Products</a>
        </li>

        <li class="nav-item">
          <a class="nav-link {% if request.resolver_match.url_name == 'category_list' %}active{% endif %}" href="{% url 'dashboard:category_list' %}"><i class="bi bi-tags me-2"></i> Categories</a>
        </li>
      </ul>
    </aside>

    <!-- Main -->
    <div class="main-content">
      <nav class="navbar px-4 sticky-top">
        <button class="btn btn-light" id="toggleSidebar"><i class="bi bi-list"></i></button>

        <span class="fw-semibold ms-3">Welcome, {{ user.username }}</span>

        <div class="ms-auto">
          <a href="#" class="btn btn-light me-2">Settings</a>
          <a href="{% url 'dashboard:admin_logout' %}" class="btn btn-outline-danger">Logout</a>
        </div>
      </nav>

      <main class="container-fluid px-4 pt-4">
        {% block content %}

        {% endblock %}
      </main>
    </div>

    <script>
      document.getElementById('toggleSidebar')?.addEventListener('click', () => {
        document.getElementById('sidebar').classList.toggle('show')
      })
    </script>
  </body>
</html>
