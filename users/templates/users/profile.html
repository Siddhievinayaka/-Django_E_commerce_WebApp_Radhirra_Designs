{% extends 'layout.html' %}
{% load static %}

{% block content %}
  <div class="profile-page min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center py-10">
    <div class="content bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden w-full max-w-2xl">
      <div class="content__cover relative h-64 bg-gradient-to-r from-purple-500 to-pink-500">
        <img class="object-cover object-center w-full h-full absolute inset-0 opacity-70" src="https://images.unsplash.com/photo-1549880338-65ddcdfd017b?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjE0NTg5fQ" alt="Cover Image" />
        <div class="absolute inset-0 bg-black opacity-30"></div>
        <div class="content__avatar absolute -bottom-16 left-1/2 transform -translate-x-1/2 w-32 h-32 rounded-full border-4 border-white dark:border-gray-700 shadow-lg overflow-hidden">
          <img class="object-cover object-center h-full w-full" src="{{ user.profile.imageURL }}" alt="Profile Picture" />
        </div>
        <div class="content__bull absolute bottom-4 right-4 flex space-x-1">
          <span class="w-2 h-2 bg-white rounded-full"></span>
          <span class="w-2 h-2 bg-white rounded-full opacity-75"></span>
          <span class="w-2 h-2 bg-white rounded-full opacity-50"></span>
          <span class="w-2 h-2 bg-white rounded-full opacity-25"></span>
          <span class="w-2 h-2 bg-white rounded-full opacity-10"></span>
        </div>
      </div>

      <div class="content__title text-center px-4 py-2 mt-16">
        <h1 class="text-3xl font-bold text-gray-900 dark:text-white">{{ user.username }}</h1>
        <span class="text-gray-600 dark:text-gray-400 text-sm">{{ user.email }}</span>
      </div>

      <div class="content__description text-center px-6 py-4 text-gray-700 dark:text-gray-300">
        <p class="mb-2">Address</p>
        <p>
          {% if profile.address %}
            {{ profile.address }}
          {% else %}
            N/A
          {% endif %},{% if profile.city %}
            {{ profile.city }}
          {% else %}
            N/A
          {% endif %},{% if profile.state %}
            {{ profile.state }}
          {% else %}
            N/A
          {% endif %}-{% if profile.zipcode %}
            {{ profile.zipcode }}
          {% else %}
            N/A
          {% endif %}
        </p>
      </div>

      <div class="content__actions flex justify-center space-x-4 py-4 pt-0">
        <a href="#" class="flex items-center px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors duration-300">
          <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
            <!-- !Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc. -->
            <path fill="currentColor" d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7c-15.2 0-29.2-9.2-34.9-22.4l-42.4-95.1c-4-9-13.1-14.5-23-14.5H24C10.7 160 0 170.7 0 184v48c0 13.3 10.7 24 24 24H123.6c22.1 0 42.1 15.5 46.6 37.3l34.3 166.3c4.5 21.9 24.5 37.3 46.6 37.3h272c13.3 0 24-10.7 24-24s-10.7-24-24-24H372.7c-1.9-6.9-1.9-14.7 0-21.6l19.8-73.4c6.6-24.6 29.4-41.6 55.4-41.6H488c13.3 0 24-10.7 24-24V128c0-13.3-10.7-24-24-24H123.6c-1.9-6.9-1.9-14.7 0-21.6L158 32h-88.5c-13.3 0-24-10.7-24-24s10.7-24 24-24H69.5c-13.3 0-24 10.7-24 24s10.7 24 24 24H118.4l-33.6 75.6c-4.5 10.1-14.5 16.4-25.6 16.4H24c-13.3 0-24 10.7-24 24v48zm128 320a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm320 0a48 48 0 1 0 0-96 48 48 0 1 0 0 96z" />
          </svg>
          <span>Cart Items {{ cart_items }}</span>
        </a>
        <a href="#" class="flex items-center px-4 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors duration-300">
          <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <!-- !Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc. -->
            <path fill="currentColor" d="M164.9 24.6c-7.7-18.6-28-28.8-47.6-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-31.5l24-88c5.6-19.6-4.6-39.9-23.2-47.6l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368c-70.4-28.8-129-87.4-157.8-157.8l-24.6-50.9c-13.7-11.2-18.4-30-11.6-46.3l40-96z" />
          </svg>
          <span>{{ profile.phone }}</span>
        </a>
      </div>
      <ul class="content__list flex justify-around py-4 border-t border-b border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300">
        <li class="text-center">
          <span class="block text-lg font-bold">
            {% if profile.friends_count %}
              {{ profile.friends_count }}
            {% else %}
              0
            {% endif %}
          </span>
          <span class="text-sm">Received</span>
        </li>
        <li class="text-center">
          <span class="block text-lg font-bold">
            {% if profile.photos_count %}
              {{ profile.photos_count }}
            {% else %}
              0
            {% endif %}
          </span>
          <span class="text-sm">On the way</span>
        </li>
        <li class="text-center">
          <span class="block text-lg font-bold">
            {% if profile.comments_count %}
              {{ profile.comments_count }}
            {% else %}
              0
            {% endif %}
          </span>
          <span class="text-sm">Wishlist</span>
        </li>
      </ul>

      <div class="content__button p-6 flex justify-center">
        <a href="{% url 'profile_edit' %}" class="button relative inline-flex items-center justify-center px-8 py-3 overflow-hidden font-medium tracking-tighter text-white rounded-lg group" style="background-color: #9f77c9;">
          <span class="absolute w-0 h-0 transition-all duration-500 ease-out rounded-full group-hover:w-56 group-hover:h-56" style="background-color: #a485c6ff;"></span>
          <span class="absolute inset-0 w-full h-full -mt-1 rounded-lg opacity-30 bg-gradient-to-b from-transparent via-transparent"></span>
          <span class="relative text-white group-hover:text-white">Edit Profile</span>
        </a>
      </div>
    </div>
  </div>
{% endblock %}
